<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diagnostic Quiz – Reducetarian Fellowship</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-green: #43a047;
      --dark-green: #2e7d32;
      --light-green: #e8f5e9;
      --accent-green: #66bb6a;
      --background: #f4faf4;
      --text-color: #2e2e2e;
      --card-shadow: rgba(0, 0, 0, 0.07);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--background);
      color: var(--text-color);
      line-height: 1.6;
      scroll-behavior: smooth;
    }

    header {
      background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
      text-align: center;
      padding: 4rem 1rem 3rem;
      color: white;
      position: relative;
    }

    header h1 {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 1rem;
      letter-spacing: -0.5px;
      color: white;
      text-shadow: 
        2px 2px 0 var(--dark-green), 
        -2px -2px 0 var(--dark-green),
        4px 4px 15px rgba(0, 0, 0, 0.2);
      animation: pulseText 2.5s infinite ease-in-out;
    }

    header p {
      font-size: 1.25rem;
      color: #e8f5e9;
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
      animation: fadeInText 1.5s ease-in;
    }

    @keyframes pulseText {
      0%, 100% {
        text-shadow: 
          2px 2px 0 var(--dark-green), 
          -2px -2px 0 var(--dark-green),
          4px 4px 15px rgba(0, 0, 0, 0.2);
      }
      50% {
        text-shadow: 
          2px 2px 0 var(--accent-green), 
          -2px -2px 0 var(--accent-green),
          6px 6px 20px rgba(102, 187, 106, 0.4);
      }
    }

    @keyframes fadeInText {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    main {
      padding: 3rem 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    section {
      margin-bottom: 4rem;
      padding: 2rem;
      background-color: white;
      border-radius: 1rem;
      box-shadow: 0 8px 20px var(--card-shadow);
      transition: transform 0.3s ease;
    }

    section:hover {
      transform: translateY(-5px);
    }

    h2 {
      color: var(--dark-green);
      margin-bottom: 1.25rem;
      font-size: 1.75rem;
    }

    .quiz-container {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .question-block {
      background-color: var(--light-green);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 4px 12px var(--card-shadow);
      text-align: center;
      transition: transform 0.3s ease;
    }

    .question-block:hover {
      transform: scale(1.02);
    }

    .question-block h3 {
      font-size: 1.3rem;
      color: var(--dark-green);
      margin-bottom: 1rem;
    }

    .question-block ul {
      list-style: none;
      padding-left: 0;
    }

    .question-block li {
      margin-bottom: 1rem;
    }

    .question-block label {
      font-size: 1rem;
    }

    .question-block button {
      padding: 0.8rem 1.5rem;
      background-color: var(--primary-green);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      font-size: 1rem;
      margin-top: 1rem;
    }

    .question-block button:hover {
      background-color: var(--dark-green);
    }

    .result-container {
      display: none;
      padding: 2rem;
      background-color: var(--light-green);
      border-radius: 1rem;
      text-align: center;
      font-size: 1.2rem;
    }

    .chart-container {
      width: 100%;
      height: 400px;
      margin-top: 2rem;
    }

    footer {
      background: var(--dark-green);
      color: white;
      text-align: center;
      padding: 1.5rem 1rem;
      font-size: 0.95rem;
      margin-top: 3rem;
      border-top: 5px solid var(--accent-green);
    }

    .download-btn {
      margin-top: 2rem;
      padding: 1rem 2rem;
      background-color: var(--primary-green);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.2rem;
    }

    .download-btn:hover {
      background-color: var(--dark-green);
    }
  </style>
</head>
<body>
  <header>
    <h1>Reducetarian Fellowship Project - Diagnostic Quiz</h1>
    <p>Test your knowledge about factory farming and food systems!</p>
  </header>

  <main>
    <section id="diagnostic-quiz">
      <h2>How Much Do You Know?</h2>
      <p>Take this 20-question quiz to test your knowledge of factory farming and food systems. At the end, you’ll get personalized recommendations based on your score!</p>

      <div class="quiz-container">
        <!-- Questions 1 to 10 -->
        <div class="question-block">
          <h3>Q1: What percentage of farm animals in the U.S. are raised on factory farms?</h3>
          <ul>
            <li><label><input type="radio" name="q1" value="0"> About 25%</label></li>
            <li><label><input type="radio" name="q1" value="1"> Around 50%</label></li>
            <li><label><input type="radio" name="q1" value="2"> Over 90%</label></li>
            <li><label><input type="radio" name="q1" value="3"> Less than 10%</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q2: Which food item has the highest water footprint per gram of protein?</h3>
          <ul>
            <li><label><input type="radio" name="q2" value="0"> Beef</label></li>
            <li><label><input type="radio" name="q2" value="1"> Tofu</label></li>
            <li><label><input type="radio" name="q2" value="2"> Chicken</label></li>
            <li><label><input type="radio" name="q2" value="3"> Lentils</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q3: What is monoculture farming?</h3>
          <ul>
            <li><label><input type="radio" name="q3" value="0"> Growing multiple crops together</label></li>
            <li><label><input type="radio" name="q3" value="1"> Rotating crops each season</label></li>
            <li><label><input type="radio" name="q3" value="2"> Farming one crop type repeatedly</label></li>
            <li><label><input type="radio" name="q3" value="3"> Raising animals and crops on the same farm</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q4: Why is routine antibiotic use in factory farms a public health concern?</h3>
          <ul>
            <li><label><input type="radio" name="q4" value="0"> It increases farm productivity</label></li>
            <li><label><input type="radio" name="q4" value="1"> It lowers meat prices</label></li>
            <li><label><input type="radio" name="q4" value="2"> It contributes to antibiotic resistance in humans</label></li>
            <li><label><input type="radio" name="q4" value="3"> It improves animal taste</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q5: What’s the main driver of greenhouse gas emissions in livestock farming?</h3>
          <ul>
            <li><label><input type="radio" name="q5" value="0"> Transport</label></li>
            <li><label><input type="radio" name="q5" value="1"> Manure management</label></li>
            <li><label><input type="radio" name="q5" value="2"> Animal digestion and feed</label></li>
            <li><label><input type="radio" name="q5" value="3"> Packaging</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q6: What does CAFO stand for?</h3>
          <ul>
            <li><label><input type="radio" name="q6" value="0"> Central Agricultural Food Operation</label></li>
            <li><label><input type="radio" name="q6" value="1"> Concentrated Animal Feeding Operation</label></li>
            <li><label><input type="radio" name="q6" value="2"> Community Animal Farming Organization</label></li>
            <li><label><input type="radio" name="q6" value="3"> Clean Animal Farming Order</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q7: Which crop is primarily used to feed factory-farmed animals?</h3>
          <ul>
            <li><label><input type="radio" name="q7" value="0"> Wheat</label></li>
            <li><label><input type="radio" name="q7" value="1"> Barley</label></li>
            <li><label><input type="radio" name="q7" value="2"> Corn and soy</label></li>
            <li><label><input type="radio" name="q7" value="3"> Rice</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q8: What’s one major criticism of factory farming from an ethical perspective?</h3>
          <ul>
            <li><label><input type="radio" name="q8" value="0"> It doesn’t use enough land</label></li>
            <li><label><input type="radio" name="q8" value="1"> It employs too many workers</label></li>
            <li><label><input type="radio" name="q8" value="2"> It causes extreme animal suffering</label></li>
            <li><label><input type="radio" name="q8" value="3"> It is too expensive to operate</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q9: Which organization is known for exposing factory farm conditions?</h3>
          <ul>
            <li><label><input type="radio" name="q9" value="0"> NASA</label></li>
            <li><label><input type="radio" name="q9" value="1"> Compassion in World Farming</label></li>
            <li><label><input type="radio" name="q9" value="2"> FDA</label></li>
            <li><label><input type="radio" name="q9" value="3"> World Bank</label></li>
          </ul>
        </div>

        <div class="question-block">
          <h3>Q10: Which of the following can help reduce the negative impact of factory farming?</h3>
          <ul>
            <li><label><input type="radio" name="q10" value="0"> Eating less meat</label></li>
            <li><label><input type="radio" name="q10" value="1"> Supporting regenerative farming</label></li>
            <li><label><input type="radio" name="q10" value="2"> Advocating for policy change</label></li>
            <li><label><input type="radio" name="q10" value="3"> All of the above</label></li>
          </ul>
        </div>

        <!-- Questions 11 to 20 (same structure as above) -->
        <!-- Add these questions in similar format -->
        
        <div class="question-block">
          <h3>Q11: Which farming practice is best for maintaining soil health?</h3>
          <ul>
            <li><label><input type="radio" name="q11" value="0"> Monoculture cropping</label></li>
            <li><label><input type="radio" name="q11" value="1"> Crop rotation</label></li>
            <li><label><input type="radio" name="q11" value="2"> Using chemical fertilizers</label></li>
            <li><label><input type="radio" name="q11" value="3"> Continuous tilling</label></li>
          </ul>
        </div>

        <!-- Continue adding questions Q12-Q20 in similar format -->

        <!-- Submit Button -->
        <button onclick="submitQuiz()">Submit Quiz</button>

        <!-- Result Section -->
        <div class="result-container" id="result-container">
          <h3>Your Score: <span id="score"></span>/20</h3>
          <p id="recommendation"></p>

          <div class="chart-container">
            <canvas id="resultsChart"></canvas>
          </div>

          <button class="download-btn" onclick="downloadPDF()">Download Results as PDF</button>
        </div>
      </div>
    </section>

    <footer>
      <p>&copy; 2025 Reducetarian Fellowship Project</p>
    </footer>
  </main>

  <script>
    const correctAnswers = [
      2, 0, 2, 2, 2, 1, 2, 2, 1, 3,
      1, 1, 2, 0, 3, 1, 2, 3, 0, 2
    ]; // Correct answers for all 20 questions

    const questionCategories = [
      "Animal Welfare", "Water Use", "Sustainability", "Greenhouse Gas Emissions", 
      "Health Impacts", "Monoculture Farming", "Food Security", "Antibiotic Use", 
      "Regenerative Farming", "Policy Change", "Animal Rights", "Water Pollution", 
      "Green Energy", "Food Justice", "Sustainable Farming", "Global Warming", 
      "Food Waste", "Climate Change", "Cultural Impacts", "Corporate Influence"
    ];

    function submitQuiz() {
      let score = 0;
      const categoryScores = Array(questionCategories.length).fill(0);

      for (let i = 1; i <= 20; i++) { 
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (selected) {
          const selectedValue = parseInt(selected.value);
          if (selectedValue === correctAnswers[i - 1]) {
            score++;
          }
          // Add to category score based on question index
          categoryScores[i - 1] = selectedValue === correctAnswers[i - 1] ? 1 : 0;
        }
      }

      // Display result
      const resultContainer = document.getElementById("result-container");
      const scoreDisplay = document.getElementById("score");
      const recommendation = document.getElementById("recommendation");

      scoreDisplay.textContent = score;

      if (score === 20) {
        recommendation.textContent = "Excellent! You have a solid understanding of key topics.";
      } else if (score >= 15) {
        recommendation.textContent = "Great job! You know a lot. Keep exploring!";
      } else {
        recommendation.textContent = "You can improve! Dive deeper into the topics for better understanding.";
      }

      resultContainer.style.display = "block";

      // Create interactive graph using Chart.js
      const ctx = document.getElementById('resultsChart').getContext('2d');
      const resultsChart = new Chart(ctx, {
        type: 'bar', // Default chart type
        data: {
          labels: questionCategories,
          datasets: [{
            label: 'Your Knowledge by Category',
            data: categoryScores,
            backgroundColor: 'rgba(102, 187, 106, 0.6)',
            borderColor: 'rgba(102, 187, 106, 1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              max: 1,
              ticks: {
                stepSize: 0.1
              }
            }
          }
        }
      });
    }

    // Function to download the results as a PDF
    function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      doc.text('Reducetarian Fellowship Project - Quiz Results', 20, 20);
      doc.text(`Your Score: ${document.getElementById('score').innerText}`, 20, 30);
      doc.text(document.getElementById('recommendation').innerText, 20, 40);

      doc.save('quiz-results.pdf');
    }
  </script>
</body>
</html>
